---
import Icon from './Icon.astro';
import type { CollectionEntry } from 'astro:content';

interface Props {
	title: string;
	tagline?: string;
	entry?: CollectionEntry<'travel'>;
}

const { tagline, title, entry } = Astro.props;

// Extract year from entry.id (e.g., "2015/another-travel-adventure" -> "2015")
const year = entry?.id.split('/')[0] || '';
const backUrl = year ? `/travel/${year}/` : '/travel/';
---

<div class="about-hero">
	<div class="stack gap-2">
		<a class="back-link" href={backUrl}><Icon icon="arrow-left" /> Back to {year}</a>
		<h1 class="title">{title}</h1>
		{tagline && <p class="tagline">{tagline}</p>}
	</div>
	<div class="carousel-container">
		<div class="header-img">
			<slot />
		</div>
	</div>
</div>

<style>
	.about-hero {
		display: flex;
		flex-direction: column;
		gap: 2rem;
		padding-bottom: 3rem;
	}

	.title {
		max-width: 37ch;
		font-size: var(--text-2xl);
		color: var(--gray-0);
	}

	.tagline {
		font-size: 1.5rem; /* 24px */
		line-height: 2rem; /* 32px */
		max-width: 60ch;
	}

	.header-img {
		--gap: 2em;
		display: flex;
		gap: var(--gap);
		width: 100%;

	}

	.back-link {
		display: inline-flex;
		align-items: center;
		gap: 0.5rem;
		color: var(--accent-regular);
		text-decoration: none;
		font-size: var(--text-sm);
		margin-bottom: 1rem;
		transition: color 0.2s ease;
	}

	.back-link:hover {
		color: var(--accent-dark);
	}

	.header-img :global(img) {
		width: 100%;
		height: 400px;
		object-fit: cover;
		border-radius: 1.5rem;
		box-shadow: var(--shadow-md);
		align-items: center;
	}

	@media (min-width: 60em) {
		.title {
			font-size: var(--text-3xl);
		}
	}

	@media (max-width: 59.99em) {
		.header-img :global(img) {
			height: 250px;
		}
	}
</style> 